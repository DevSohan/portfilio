import Image from "next/image";
import { Inter } from "next/font/google";
import Skills from "@/components/Skills";
import CandlestickChart from "@/components/TestSkills";
import { useState } from "react";
import * as d3 from "d3"
import { TestSkills2 } from "@/components/TestSkills2";
const inter = Inter({ subsets: ["latin"] });

class DataPoint {
    constructor({ period, open, close, high, low }) {
      this.period = new Date(period);
      this.open = parseFloat(open);
      this.close = parseFloat(close);
      this.low = parseFloat(low);
      this.high = parseFloat(high);
    }
  }
  class ViewModel {
    constructor({dataPoints, xMin, xMax, yMin, yMax}) {
      this.dataPoints = dataPoints
      this.yMin = yMin
      this.yMax = yMax
      this.xMin = xMin
      this.xMax = xMax
    }
  }
  let data = {
    "2021-02-26 21:30:00": {
      "1. open": "1.2065",
      "2. high": "1.2073",
      "3. low": "1.2060",
      "4. close": "1.2068"
    },
    "2021-02-26 21:00:00": {
      "1. open": "1.2075",
      "2. high": "1.2079",
      "3. low": "1.2063",
      "4. close": "1.2064"
    },
    "2021-02-26 20:30:00": {
      "1. open": "1.2078",
      "2. high": "1.2079",
      "3. low": "1.2071",
      "4. close": "1.2073"
    },
    "2021-02-26 20:00:00": {
      "1. open": "1.2085",
      "2. high": "1.2090",
      "3. low": "1.2075",
      "4. close": "1.2077"
    },
    "2021-02-26 19:30:00": {
      "1. open": "1.2083",
      "2. high": "1.2086",
      "3. low": "1.2075",
      "4. close": "1.2085"
    },
    "2021-02-26 19:00:00": {
      "1. open": "1.2085",
      "2. high": "1.2087",
      "3. low": "1.2078",
      "4. close": "1.2083"
    },
    "2021-02-26 18:30:00": {
      "1. open": "1.2080",
      "2. high": "1.2086",
      "3. low": "1.2070",
      "4. close": "1.2085"
    },
    "2021-02-26 18:00:00": {
      "1. open": "1.2081",
      "2. high": "1.2083",
      "3. low": "1.2072",
      "4. close": "1.2080"
    },
    "2021-02-26 17:30:00": {
      "1. open": "1.2092",
      "2. high": "1.2094",
      "3. low": "1.2078",
      "4. close": "1.2081"
    },
    "2021-02-26 17:00:00": {
      "1. open": "1.2092",
      "2. high": "1.2106",
      "3. low": "1.2089",
      "4. close": "1.2092"
    },
    "2021-02-26 16:30:00": {
      "1. open": "1.2139",
      "2. high": "1.2140",
      "3. low": "1.2089",
      "4. close": "1.2092"
    },
    "2021-02-26 16:00:00": {
      "1. open": "1.2118",
      "2. high": "1.2141",
      "3. low": "1.2113",
      "4. close": "1.2138"
    },
    "2021-02-26 15:30:00": {
      "1. open": "1.2125",
      "2. high": "1.2126",
      "3. low": "1.2108",
      "4. close": "1.2118"
    },
    "2021-02-26 15:00:00": {
      "1. open": "1.2130",
      "2. high": "1.2138",
      "3. low": "1.2118",
      "4. close": "1.2125"
    },
    "2021-02-26 14:30:00": {
      "1. open": "1.2124",
      "2. high": "1.2132",
      "3. low": "1.2114",
      "4. close": "1.2130"
    },
    "2021-02-26 14:00:00": {
      "1. open": "1.2109",
      "2. high": "1.2125",
      "3. low": "1.2107",
      "4. close": "1.2123"
    },
    "2021-02-26 13:30:00": {
      "1. open": "1.2115",
      "2. high": "1.2122",
      "3. low": "1.2104",
      "4. close": "1.2109"
    },
    "2021-02-26 13:00:00": {
      "1. open": "1.2115",
      "2. high": "1.2122",
      "3. low": "1.2110",
      "4. close": "1.2115"
    },
    "2021-02-26 12:30:00": {
      "1. open": "1.2107",
      "2. high": "1.2116",
      "3. low": "1.2101",
      "4. close": "1.2114"
    },
    "2021-02-26 12:00:00": {
      "1. open": "1.2105",
      "2. high": "1.2108",
      "3. low": "1.2091",
      "4. close": "1.2105"
    },
    "2021-02-26 11:30:00": {
      "1. open": "1.2114",
      "2. high": "1.2124",
      "3. low": "1.2097",
      "4. close": "1.2105"
    },
    "2021-02-26 11:00:00": {
      "1. open": "1.2123",
      "2. high": "1.2128",
      "3. low": "1.2112",
      "4. close": "1.2114"
    },
    "2021-02-26 10:30:00": {
      "1. open": "1.2125",
      "2. high": "1.2129",
      "3. low": "1.2113",
      "4. close": "1.2122"
    },
    "2021-02-26 10:00:00": {
      "1. open": "1.2139",
      "2. high": "1.2145",
      "3. low": "1.2121",
      "4. close": "1.2125"
    },
    "2021-02-26 09:30:00": {
      "1. open": "1.2149",
      "2. high": "1.2151",
      "3. low": "1.2134",
      "4. close": "1.2139"
    },
    "2021-02-26 09:00:00": {
      "1. open": "1.2154",
      "2. high": "1.2160",
      "3. low": "1.2144",
      "4. close": "1.2150"
    },
    "2021-02-26 08:30:00": {
      "1. open": "1.2134",
      "2. high": "1.2156",
      "3. low": "1.2132",
      "4. close": "1.2154"
    },
    "2021-02-26 08:00:00": {
      "1. open": "1.2139",
      "2. high": "1.2140",
      "3. low": "1.2127",
      "4. close": "1.2135"
    },
    "2021-02-26 07:30:00": {
      "1. open": "1.2155",
      "2. high": "1.2155",
      "3. low": "1.2136",
      "4. close": "1.2139"
    },
    "2021-02-26 07:00:00": {
      "1. open": "1.2157",
      "2. high": "1.2159",
      "3. low": "1.2145",
      "4. close": "1.2153"
    },
    "2021-02-26 06:30:00": {
      "1. open": "1.2154",
      "2. high": "1.2160",
      "3. low": "1.2150",
      "4. close": "1.2157"
    },
    "2021-02-26 06:00:00": {
      "1. open": "1.2158",
      "2. high": "1.2158",
      "3. low": "1.2147",
      "4. close": "1.2153"
    },
    "2021-02-26 05:30:00": {
      "1. open": "1.2155",
      "2. high": "1.2160",
      "3. low": "1.2152",
      "4. close": "1.2158"
    },
    "2021-02-26 05:00:00": {
      "1. open": "1.2154",
      "2. high": "1.2155",
      "3. low": "1.2143",
      "4. close": "1.2155"
    },
    "2021-02-26 04:30:00": {
      "1. open": "1.2160",
      "2. high": "1.2161",
      "3. low": "1.2151",
      "4. close": "1.2154"
    },
    "2021-02-26 04:00:00": {
      "1. open": "1.2169",
      "2. high": "1.2170",
      "3. low": "1.2158",
      "4. close": "1.2160"
    },
    "2021-02-26 03:30:00": {
      "1. open": "1.2172",
      "2. high": "1.2176",
      "3. low": "1.2166",
      "4. close": "1.2169"
    },
    "2021-02-26 03:00:00": {
      "1. open": "1.2180",
      "2. high": "1.2182",
      "3. low": "1.2170",
      "4. close": "1.2172"
    },
    "2021-02-26 02:30:00": {
      "1. open": "1.2164",
      "2. high": "1.2183",
      "3. low": "1.2160",
      "4. close": "1.2180"
    },
    "2021-02-26 02:00:00": {
      "1. open": "1.2154",
      "2. high": "1.2165",
      "3. low": "1.2150",
      "4. close": "1.2163"
    },
    "2021-02-26 01:30:00": {
      "1. open": "1.2157",
      "2. high": "1.2164",
      "3. low": "1.2149",
      "4. close": "1.2152"
    },
    "2021-02-26 01:00:00": {
      "1. open": "1.2142",
      "2. high": "1.2159",
      "3. low": "1.2137",
      "4. close": "1.2157"
    },
    "2021-02-26 00:30:00": {
      "1. open": "1.2158",
      "2. high": "1.2167",
      "3. low": "1.2136",
      "4. close": "1.2141"
    },
    "2021-02-26 00:00:00": {
      "1. open": "1.2176",
      "2. high": "1.2178",
      "3. low": "1.2156",
      "4. close": "1.2156"
    },
    "2021-02-25 23:30:00": {
      "1. open": "1.2182",
      "2. high": "1.2183",
      "3. low": "1.2173",
      "4. close": "1.2176"
    },
    "2021-02-25 23:00:00": {
      "1. open": "1.2178",
      "2. high": "1.2184",
      "3. low": "1.2177",
      "4. close": "1.2182"
    },
    "2021-02-25 22:30:00": {
      "1. open": "1.2172",
      "2. high": "1.2183",
      "3. low": "1.2170",
      "4. close": "1.2178"
    },
    "2021-02-25 22:00:00": {
      "1. open": "1.2170",
      "2. high": "1.2178",
      "3. low": "1.2167",
      "4. close": "1.2174"
    },
    "2021-02-25 21:30:00": {
      "1. open": "1.2163",
      "2. high": "1.2174",
      "3. low": "1.2162",
      "4. close": "1.2170"
    },
    "2021-02-25 21:00:00": {
      "1. open": "1.2168",
      "2. high": "1.2175",
      "3. low": "1.2161",
      "4. close": "1.2163"
    },
    "2021-02-25 20:30:00": {
      "1. open": "1.2186",
      "2. high": "1.2187",
      "3. low": "1.2167",
      "4. close": "1.2169"
    },
    "2021-02-25 20:00:00": {
      "1. open": "1.2189",
      "2. high": "1.2189",
      "3. low": "1.2178",
      "4. close": "1.2186"
    },
    "2021-02-25 19:30:00": {
      "1. open": "1.2180",
      "2. high": "1.2193",
      "3. low": "1.2173",
      "4. close": "1.2187"
    },
    "2021-02-25 19:00:00": {
      "1. open": "1.2192",
      "2. high": "1.2194",
      "3. low": "1.2159",
      "4. close": "1.2180"
    },
    "2021-02-25 18:30:00": {
      "1. open": "1.2212",
      "2. high": "1.2214",
      "3. low": "1.2186",
      "4. close": "1.2192"
    },
    "2021-02-25 18:00:00": {
      "1. open": "1.2231",
      "2. high": "1.2233",
      "3. low": "1.2210",
      "4. close": "1.2212"
    },
    "2021-02-25 17:30:00": {
      "1. open": "1.2229",
      "2. high": "1.2239",
      "3. low": "1.2225",
      "4. close": "1.2231"
    },
    "2021-02-25 17:00:00": {
      "1. open": "1.2225",
      "2. high": "1.2233",
      "3. low": "1.2219",
      "4. close": "1.2229"
    },
    "2021-02-25 16:30:00": {
      "1. open": "1.2223",
      "2. high": "1.2229",
      "3. low": "1.2215",
      "4. close": "1.2224"
    },
    "2021-02-25 16:00:00": {
      "1. open": "1.2228",
      "2. high": "1.2229",
      "3. low": "1.2216",
      "4. close": "1.2224"
    },
    "2021-02-25 15:30:00": {
      "1. open": "1.2241",
      "2. high": "1.2243",
      "3. low": "1.2219",
      "4. close": "1.2227"
    },
    "2021-02-25 15:00:00": {
      "1. open": "1.2222",
      "2. high": "1.2243",
      "3. low": "1.2217",
      "4. close": "1.2241"
    },
    "2021-02-25 14:30:00": {
      "1. open": "1.2212",
      "2. high": "1.2225",
      "3. low": "1.2207",
      "4. close": "1.2222"
    },
    "2021-02-25 14:00:00": {
      "1. open": "1.2228",
      "2. high": "1.2234",
      "3. low": "1.2209",
      "4. close": "1.2212"
    },
    "2021-02-25 13:30:00": {
      "1. open": "1.2226",
      "2. high": "1.2234",
      "3. low": "1.2222",
      "4. close": "1.2227"
    },
    "2021-02-25 13:00:00": {
      "1. open": "1.2232",
      "2. high": "1.2237",
      "3. low": "1.2223",
      "4. close": "1.2225"
    },
    "2021-02-25 12:30:00": {
      "1. open": "1.2229",
      "2. high": "1.2234",
      "3. low": "1.2222",
      "4. close": "1.2233"
    },
    "2021-02-25 12:00:00": {
      "1. open": "1.2234",
      "2. high": "1.2234",
      "3. low": "1.2221",
      "4. close": "1.2229"
    },
    "2021-02-25 11:30:00": {
      "1. open": "1.2228",
      "2. high": "1.2238",
      "3. low": "1.2226",
      "4. close": "1.2234"
    },
    "2021-02-25 11:00:00": {
      "1. open": "1.2228",
      "2. high": "1.2236",
      "3. low": "1.2218",
      "4. close": "1.2228"
    },
    "2021-02-25 10:30:00": {
      "1. open": "1.2220",
      "2. high": "1.2231",
      "3. low": "1.2216",
      "4. close": "1.2228"
    },
    "2021-02-25 10:00:00": {
      "1. open": "1.2214",
      "2. high": "1.2223",
      "3. low": "1.2210",
      "4. close": "1.2220"
    },
    "2021-02-25 09:30:00": {
      "1. open": "1.2208",
      "2. high": "1.2219",
      "3. low": "1.2202",
      "4. close": "1.2213"
    },
    "2021-02-25 09:00:00": {
      "1. open": "1.2196",
      "2. high": "1.2208",
      "3. low": "1.2189",
      "4. close": "1.2206"
    },
    "2021-02-25 08:30:00": {
      "1. open": "1.2187",
      "2. high": "1.2204",
      "3. low": "1.2185",
      "4. close": "1.2197"
    },
    "2021-02-25 08:00:00": {
      "1. open": "1.2169",
      "2. high": "1.2189",
      "3. low": "1.2166",
      "4. close": "1.2186"
    },
    "2021-02-25 07:30:00": {
      "1. open": "1.2181",
      "2. high": "1.2181",
      "3. low": "1.2167",
      "4. close": "1.2168"
    },
    "2021-02-25 07:00:00": {
      "1. open": "1.2180",
      "2. high": "1.2182",
      "3. low": "1.2174",
      "4. close": "1.2180"
    },
    "2021-02-25 06:30:00": {
      "1. open": "1.2178",
      "2. high": "1.2180",
      "3. low": "1.2172",
      "4. close": "1.2179"
    },
    "2021-02-25 06:00:00": {
      "1. open": "1.2182",
      "2. high": "1.2183",
      "3. low": "1.2175",
      "4. close": "1.2178"
    },
    "2021-02-25 05:30:00": {
      "1. open": "1.2176",
      "2. high": "1.2183",
      "3. low": "1.2174",
      "4. close": "1.2182"
    },
    "2021-02-25 05:00:00": {
      "1. open": "1.2174",
      "2. high": "1.2177",
      "3. low": "1.2170",
      "4. close": "1.2176"
    },
    "2021-02-25 04:30:00": {
      "1. open": "1.2169",
      "2. high": "1.2177",
      "3. low": "1.2165",
      "4. close": "1.2174"
    },
    "2021-02-25 04:00:00": {
      "1. open": "1.2165",
      "2. high": "1.2170",
      "3. low": "1.2162",
      "4. close": "1.2168"
    },
    "2021-02-25 03:30:00": {
      "1. open": "1.2159",
      "2. high": "1.2166",
      "3. low": "1.2158",
      "4. close": "1.2165"
    },
    "2021-02-25 03:00:00": {
      "1. open": "1.2161",
      "2. high": "1.2163",
      "3. low": "1.2156",
      "4. close": "1.2160"
    },
    "2021-02-25 02:30:00": {
      "1. open": "1.2157",
      "2. high": "1.2163",
      "3. low": "1.2154",
      "4. close": "1.2162"
    },
    "2021-02-25 02:00:00": {
      "1. open": "1.2161",
      "2. high": "1.2163",
      "3. low": "1.2155",
      "4. close": "1.2157"
    },
    "2021-02-25 01:30:00": {
      "1. open": "1.2162",
      "2. high": "1.2165",
      "3. low": "1.2155",
      "4. close": "1.2161"
    },
    "2021-02-25 01:00:00": {
      "1. open": "1.2164",
      "2. high": "1.2165",
      "3. low": "1.2158",
      "4. close": "1.2161"
    },
    "2021-02-25 00:30:00": {
      "1. open": "1.2169",
      "2. high": "1.2170",
      "3. low": "1.2162",
      "4. close": "1.2163"
    },
    "2021-02-25 00:00:00": {
      "1. open": "1.2167",
      "2. high": "1.2171",
      "3. low": "1.2165",
      "4. close": "1.2169"
    },
    "2021-02-24 23:30:00": {
      "1. open": "1.2165",
      "2. high": "1.2168",
      "3. low": "1.2163",
      "4. close": "1.2167"
    },
    "2021-02-24 23:00:00": {
      "1. open": "1.2163",
      "2. high": "1.2168",
      "3. low": "1.2159",
      "4. close": "1.2165"
    },
    "2021-02-24 22:30:00": {
      "1. open": "1.2164",
      "2. high": "1.2172",
      "3. low": "1.2162",
      "4. close": "1.2163"
    },
    "2021-02-24 22:00:00": {
      "1. open": "1.2171",
      "2. high": "1.2175",
      "3. low": "1.2163",
      "4. close": "1.2166"
    },
    "2021-02-24 21:30:00": {
      "1. open": "1.2166",
      "2. high": "1.2173",
      "3. low": "1.2160",
      "4. close": "1.2170"
    },
    "2021-02-24 21:00:00": {
      "1. open": "1.2160",
      "2. high": "1.2169",
      "3. low": "1.2157",
      "4. close": "1.2166"
    },
    "2021-02-24 20:30:00": {
      "1. open": "1.2148",
      "2. high": "1.2160",
      "3. low": "1.2146",
      "4. close": "1.2159"
    },
    "2021-02-24 20:00:00": {
      "1. open": "1.2150",
      "2. high": "1.2151",
      "3. low": "1.2144",
      "4. close": "1.2148"
    }
  };
  let dataPoints = Object.keys(data).map((key) => {
      return new DataPoint({
        period: key,
        open: data[key]["1. open"],
        high: data[key]["2. high"],
        low: data[key]["3. low"],
        close: data[key]["4. close"]
      })
    })
  let viewModel = new ViewModel({
    dataPoints: dataPoints,
    yMin: d3.min(dataPoints, d => d.low),
    yMax: d3.max(dataPoints, d => d.high),
    xMin: d3.min(dataPoints, d => d.period),
    xMax: d3.max(dataPoints, d => d.period)
  })
  
  

export default function Home() {
    const [data, setData] = useState(viewModel)
    return (
        <>
        <h1>Homepage</h1>
        <Skills />
        </>
        
    );
}

